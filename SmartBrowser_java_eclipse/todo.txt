TODO 1.5
(완료)1. 테크크런치에서 본문 보기할때 오류 발생
(보류)2. 저장하기에서 offline연결시 스타일 깨지는 문제
(완료-그냥 조금더 크게하는 수준으로)3. 사진은 화면 크기에 맞춰서 크게
* 위 수정사항들에 대하여 TDD 적용해보자.

=============================================================

TODO 1.4 - 완성도 높여놓고 손 놓는게 목표!
1. (수정. 1-1문제 발생) orientation 바뀌면 죽는 문제? 겔넥에서 재현
1-1. 4.1.1버전에서 orientation바뀔때 onConfigurationChanged 호출되지 않는 문제 확인중..
2. (수정완료) 실행하자마자 죽는문제 : 재현안됨. 다른 해상도 기기들에서 테스트 필요
3. (수정완료. 갤넥에서 inpage 동영상은 아예 안나온다. 플래쉬 미지원 문제인가?) 동영상 재생 실패 : 겔넥에서 재현
4. (수정완료) 검색/번역 웹뷰에 프로그레스바 추가
5. (수정완료) 뒤로 눌렀는데 계속 같은페이지인 경우에 대하여 수정
6. (보류) 데이터 및 캐시가 많이 쌓이는 원인파악
7. (보류) 웹뷰에서 플래시 지원 ( 다른 브라우저로 띄우기? )
8. (수정완료) 본문 읽기 환경에서 이미지도 보여주기
9. (수정완료. 일반 브라우저 뜨도록 수정) 파일 다운로드 / 마켓 이동 / 전화 / 문자 / 이메일 등
10. (보류) 검색/번역 설정에서 사이트 추가 가능하도록 수정
11. (보류) 페이지 저장기능을 내용 저장기능으로 변경
12. (수정완료) 본문보기에서 선택영역 복사 기능, 이미지 편집 필요
13. (보류) 본문보기 및 소스보기에 단어 검색 기능 추가
14. (재현안됨) 본문보기 했을때 빈화면 나오는 오류
15. (보류) 검색사이트 선택 기능
16. (수정완료) 본문 추출 기능 보완 ( 내용을 담을거라 추측되는 태그들은 재귀적으로 들어가지 않도록 수정 )
17. (수정완료) 종료시 토스트 위치 중앙으로

==============================================================
[현재 당면 문제]
검색/번역 웹뷰에 프로그레스바 추가
뒤로 눌렀는데 계속 같은페이지인 경우 그이전으로 이동하도록 수정


[TODO]
(내부적요소) 데이터 및 캐시가 많이 쌓이는 원인 파악, 태스크 상태 확인 필요
웹뷰에서 플래시 지원 ( 다른 브라우저로 띄우기 기능 가능할까? )
본문 읽기 환경에서 이미지도 보여주기
공유 기능 강화
마이페이지 디자인 변경
마이페이지 관련, 백업 기능 가능하도록 수정
파일 다운로드



[hash 만들기]
- 개발용(예제)
keytool -exportcert -alias androiddebugkey -keystore ~/.android/debug.keystore | openssl sha1 -binary | openssl base64
- 릴리즈용
keytool -exportcert -alias marketkey -keystore /Users/teuskim/Documents/workspace/android-src/signkey.keystore | openssl sha1 -binary | openssl base64


[보류된 문제]
4. 웹뷰에서 cache 로직 이용하여 미리 받아온 html을 강제로 cache file에 적용하기  ==> 보류
12. 저장시 js파일도 저장  ==> 보류
13. 소스보기에서 패스트 스크롤 기능 지원 및 스마트브라우저에서 추가한 스크립트 제거
소스보기에서 패스트 스크롤 기능 지원 ==> 보류
저장시 관련 css와 js도 저장하도록 하고, 폴더 생성하여 저장하자.( 저장관련 사용자 반응이 있을 경우에 하자. ) ==> 보류
메인 화면 로딩과 동시에 웹페이지 조각에서 페이지 이동이 발생할 경우 홈을 볼 수 없는 문제가 발생한다. ( 재현이 안된다.. ) ==> 보류
플레이스토어에 신고된 버그 수정  ==> 보류
웹조각 저장할때 헤더(캐쉬 등) 정보도 같이 저장해야 할 듯 ==> 보류 ( 각 웹뷰마다 따로 쿠키를 셋팅할 방법을 찾아야한다. )


[DONE]
1. 메인 : 웹조각 레이아웃 변경, 웹조각 로딩시 로딩 레이어 씌우고 로딩후 1초후 보이도록 수정
2. 메인 : 저장내용 화면 추가
3. 리모콘 : 메인에서 글자없을때 구글로 이동, 웹뷰에서 글자없을때 새로고침, "추가"나 "보기" 눌렀을때 "X"로 표시.
4. 리모콘 : 메인 및 웹뷰 리모콘에 화면 버튼 추가
5. 웹뷰 : 리모콘 "보기"에서 변경되었을 때 리모콘 사라지도록 수정
6. 저장기능 오류 수정
7. 뒤로/앞으로/새로고침 기능,  리모콘 불투명으로/드래그영역만 반투명으로.
8. 화면추가 기능 추가
9. 메인화면 위치이동 기능
10. 버그2 : 웹조각에서 링크 클릭하면 죽는다.(액티비티 속성을 정리해야할듯.싱글톤 되도록)
11. 입력화면에서 추천 주소/단어 목록
12. 버그1 : 가로모드에서 키보드가 올라오지 않는다. 가로세로 바꾸다보면 죽는다.
13. 버그3 : 소스보기 상태에서 잠금화면 비정상 ( 여차하면 빼자 )
3. 즐찾추가/조각추가할때 썸네일 이미지 저장 관련 추가
스트링 리소스화 및 영어 버전 추가
9. 본문 추출 기능 보완 ( 테스트, 제목추출, 링크추출/이미지추출 보류 )
5. 선택 모드에서 border 처리되면서 레이아웃 깨지는 문제 수정
11. 설정의 컬러피커 디자인 적용
15. 애니메이션 적용
6. 잠금화면 디자인 적용
14. 잠금화면 더블터치 버튼 클릭에서 터치로 변경
intent filter ( http ) 추가
앱가이드 화면
리모콘 디자인 반영
최초 즐찾시 홈에서 갱신되도록 오류 수정
홈에 조각 순서이동할때 배경색 흰색으로
========================================== 2012-11-20
웹뷰에서 홈키 눌러서 나간후 다시 들어올때 메인으로 이동하는 문제 ( GateActivity 를 만들자 )
리모콘의 위치가 화면을 벗어나는 케이스가 있는듯, 일단 onstart 에서 한번 체크해야 할듯
========================================== 2012-11-21
저장내용 삭제시 sdcard의 파일도 삭제
웹에서 잠금화면 띄울때 스크롤 정보 넘기기
로딩 프로그레스 자연스럽게
========================================== 2012-11-25
네이버 입력 영역 눌렀을때 오류 수정 ( about:blank 로 이동하는 문제가 있었다. 왜 그랬는지는 아직 모르겠다. )
화면추가후 홈 이동했다가 다시 웹으로 갈때 화면 유지하도록 수정
share 보낼때 타이틀 셋팅
본문 보기 상태에서 웹페이지만 뒤로 가는 경우가 있다.
========================================== 2012-11-29
본문 배경 깨지는 오류 수정 ( 0.1초 딜레이후 적용하도록 수정. 추이를 지켜보자. )
========================================== 2012-12-02
다음의 메인화면 조각 추가하면 오류 발생
주소입력창에서 키보드 엔터키 치면 이동하도록 수정 ( 일부 OS ? )
========================================== 2012-12-03
젤리빈 잠금화면 오류 / 저장하기 오류
========================================== 2012-12-05
종료 기능 추가 ( 리모콘의 종료버튼 두번 ), 리모콘의 이전/다음 버튼 점검 및 수정
네이버 증권에서 조각추가 문제
본문 보기후 페이지 뒤로 간 후 다시 본문 보기하면 이전의 본문이 나오는 문제
영어 설명 수정
========================================== 2012-12-15
비디오 재생 실패 오류 수정, 페북에서 동영상 재생 실패
잠금화면 스크롤 문제
영어 모드에서 한글 나오는 부분들 수정


[난제 - 되면 좋고 안되면 말고]
1. 네이버에서 기사내에 동영상 임베드한 경우 Uncaught TypeError 나면서 동영상 재생되지 않는 문제
2. 메인에서 웹조각 보여줄때 원래 페이지가 잠깐 보였다가 웹조각을 보여주게 되는 문제


[당면과제 해결 로그]
1. url 로 html 받아와서 webview 에 출력하는 과정에서 url 이 잘못되었다는 오류 발생, 해결중..
m.naver.com 의 html 중 %를 &#37; 로 변경하면 문제 해결, 내용중 urlencode 된 내용들과는 구분이 필요하다.
내부적인 html parse error 로 인한 문제인 것으로 판단된다.
2. html 에 js 주입하고 터치해서 영역의 html을 추출할 수 있는 방법을 찾아보자.
html을 그대로 출력하는 방식으로는 ajax 에서 cross browsing 문제가 발생할 것으로 보인다.
기본적으로는 웹뷰에 js call 하여 원하는 동작을 하도록 하고, 필요에 따라 저장된 html을 보여줘야 하는 경우만 html 출력 기능을 사용하자.
3. 키보드가 있을때 리모콘이 사라지지 않고 키보드가 없을때 리모콘이 사라지도록 수정
지금은 2.5초후 리모콘이 사라지는데 키보드 입력영역이 클릭되면 사라지지 않도록 한다. 다시 드래그 영역이 터치되면 2.5초후 사라진다.
문제는 입력영역을 터치했다가 키보드를 사라지게 하면 리모콘도 사라지지 않는다는 것이다. => getSystemService 로 inputMethodService를 받아오는 방법은 어떨까?
레이아웃의 height 가 변했는지를 확인하는 방식으로 해결